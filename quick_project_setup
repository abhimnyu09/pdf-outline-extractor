#!/bin/bash

echo "üöÄ PDF Outline Extractor - Complete Project Setup"
echo "================================================="

# Step 1: Create project directory
echo "üìÅ Creating project directory..."
mkdir -p pdf-outline-extractor
cd pdf-outline-extractor

# Step 2: Create file structure
echo "üìù Creating file structure..."

# Create main files
touch README.md
touch Dockerfile  
touch requirements.txt
touch extract_outline.py

# Create directories with .gitkeep files
mkdir -p input output
touch input/.gitkeep
touch output/.gitkeep

# Step 3: Create .gitignore
echo "üö´ Creating .gitignore..."
cat > .gitignore << 'EOF'
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
env/
venv/
ENV/

# Docker
.dockerignore

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db

# Test files (optional - you might want to include sample PDFs)
input/*.pdf
output/*.json

# Logs
*.log
EOF

# Step 4: Display created structure
echo ""
echo "‚úÖ Project structure created:"
echo ""
tree . 2>/dev/null || find . -type f -o -type d | sed 's|[^/]*/|- |g'

echo ""
echo "üìã Next Steps:"
echo "1. Copy the Dockerfile content into 'Dockerfile'"
echo "2. Add 'PyMuPDF==1.23.14' to 'requirements.txt'"
echo "3. Copy the Python code into 'extract_outline.py'"
echo "4. Copy the documentation into 'README.md'"
echo "5. Add test PDF files to 'input/' directory"
echo "6. Initialize Git: git init && git add . && git commit -m 'Initial commit'"
echo ""
echo "üéØ File sizes after completion:"
echo "   README.md: ~15KB (comprehensive documentation)"
echo "   Dockerfile: ~500B (container instructions)"
echo "   requirements.txt: ~20B (just PyMuPDF dependency)"
echo "   extract_outline.py: ~15KB (main application code)"
echo "   Total source: ~31KB"
echo ""
echo "üê≥ Container specs:"
echo "   Base image: python:3.9-slim (~40MB)"
echo "   + PyMuPDF: ~50MB"
echo "   + System deps: ~60MB"
echo "   Total container: ~150MB (well under 200MB limit)"
echo ""
echo "‚ö° Expected performance:"
echo "   Processing speed: 2-3 seconds per 50-page PDF"
echo "   Memory usage: <100MB during processing"
echo "   Supported languages: English, German, French, Japanese, Chinese, Russian, Arabic, and more"

echo ""
echo "üéâ Setup complete! Follow the README instructions to add content to each file."
